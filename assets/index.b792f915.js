var C=Object.defineProperty,A=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var h=(e,r,a)=>r in e?C(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,d=(e,r)=>{for(var a in r||(r={}))b.call(r,a)&&h(e,a,r[a]);if(f)for(var a of f(r))w.call(r,a)&&h(e,a,r[a]);return e},l=(e,r)=>A(e,v(r));import{j as m,r as p,l as y,R as I,a as N}from"./vendor.b930bbbb.js";const x=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}};x();const F=async()=>{const e="at_M41FwCxVryPv9ugdsIrruavYYlKja";try{const r=await fetch(`https://cors-anywhere.herokuapp.com/https://geo.ipify.org/service/account-balance?apiKey=${e}`,{method:"GET"});if(r.status===200){const{credits:a}=await r.json();return a}}catch(r){console.error(r)}},S="_details__wrapper_t7u48_1",T="_details_t7u48_1";var _={details__wrapper:S,details:T};const t=m.exports.jsx,c=m.exports.jsxs,E=({data:e})=>{const{ip:r,isp:a,location:o}=e||{};return t("div",{className:_.details__wrapper,children:c("dl",{className:_.details,children:[c("div",{children:[t("dt",{children:"IP Address"}),t("dd",{children:r||"..."})]}),c("div",{children:[t("dt",{children:"Location"}),t("dd",{children:o?`${o.city||""} ${o.region||""} ${o.postalCode||""}`:"..."})]}),c("div",{children:[t("dt",{children:"Timezone"}),t("dd",{children:o?`UTC${o.timezone}`:"..."})]}),c("div",{children:[t("dt",{children:"ISP"}),t("dd",{children:a||"..."})]})]})})};function L(e){return c("svg",l(d({width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{children:[t("circle",{cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(45 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.125s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(90 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.25s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(135 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.375s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(180 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.5s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(225 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.625s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(270 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.75s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})}),t("circle",{transform:"rotate(315 12 12)",cx:"12",cy:"2",r:"0",fill:"currentColor",children:t("animate",{attributeName:"r",values:"0;2;0;0",dur:"1s",repeatCount:"indefinite",begin:"0.875s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",calcMode:"spline"})})]}))}function O(e){return t("svg",l(d({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),{children:t("path",{d:"M19 3C13.488 3 9 7.488 9 13c0 2.395.84 4.59 2.25 6.313L3.281 27.28L4.72 28.72l7.968-7.969A9.922 9.922 0 0 0 19 23c5.512 0 10-4.488 10-10S24.512 3 19 3zm0 2c4.43 0 8 3.57 8 8s-3.57 8-8 8s-8-3.57-8-8s3.57-8 8-8z",fill:"currentColor"})}))}const M="_search_1phhl_1",k="_inner__wrapper_1phhl_6",j="_error_1phhl_40";var u={search:M,inner__wrapper:k,"end-adornment":"_end-adornment_1phhl_22",error:j};const P=({dispatch:e,isLoading:r,error:a})=>{const[o,i]=p.exports.useState("192.212.174.101");return c("div",{className:u.search,children:[t("div",{className:u.inner__wrapper,children:c("form",{onSubmit:n=>{n.preventDefault(),e({type:"INIT_SEARCH",payload:{search:o}})},children:[t("input",{name:"search",type:"text",onChange:n=>i(n.target.value),value:o,placeholder:"Search for any IP address or domain"}),t("button",{type:"submit",className:u["end-adornment"],"aria-label":"click to search",onClick:()=>e({type:"INIT_SEARCH",payload:{search:o}}),children:r?t(L,{}):t(O,{})})]})}),a?t("p",{className:u.error,children:a}):null]})},R=(e,r)=>{const a=p.exports.useRef(null);return p.exports.useEffect(()=>{if(e&&r)if(a.current)a.current.setView([e,r],13);else{const o=y.exports.map("map").setView([e,r],13);y.exports.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery \xA9 <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiemtpbmRlc3QiLCJhIjoiY2t3dzNwZDZrMjYwYjJ3dXNqNGNpZmxlNyJ9.L4FXi8Ii66CLsE2cKVR-XQ"}).addTo(o),a.current=o}},[e,r]),a},$=e=>e?/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/.test(e):!1,H=async e=>{let r="apiKey=at_M41FwCxVryPv9ugdsIrruavYYlKja";return $(e)?r+=`&ipAddress=${e}`:r+=`&domain=${e}`,await fetch(`https://geo.ipify.org/api/v1?${r}`,{method:"GET"})},Y={data:null,error:"",loading:!1,search:"192.212.174.101",geoIPFYBalance:0};function B(e,r){switch(r.type){case"INIT_SEARCH":return l(d({},e),{search:r.payload.search});case"FETCH_LOCATION_STARTED":return l(d({},e),{loading:!0});case"FETCH_LOCATION_FAILED":return l(d({},e),{loading:!1,error:r.payload.error});case"FETCH_LOCATION_SUCCESS":return l(d({},e),{loading:!1,error:"",data:r.payload});case"IPFY_BALANCE":return l(d({},e),{geoIPFYBalance:r.payload});default:return e}}function D(){var o,i;const[e,r]=p.exports.useReducer(B,Y);R((o=e==null?void 0:e.data)==null?void 0:o.location.lat,(i=e.data)==null?void 0:i.location.lng);const a=p.exports.useCallback(async n=>{try{r({type:"FETCH_LOCATION_STARTED"});const s=await H(n);if(s.status===200){const g=await s.json();r({type:"FETCH_LOCATION_SUCCESS",payload:g})}else r({type:"FETCH_LOCATION_FAILED",payload:{error:"Not Found!"}})}catch(s){r({type:"FETCH_LOCATION_FAILED",payload:{error:"Something went wrong!"}}),console.error(s)}},[r]);return p.exports.useEffect(()=>{console.log("searching for:",e.search),a(e.search)},[e.search]),p.exports.useEffect(()=>{F().then(n=>{if(r({type:"IPFY_BALANCE",payload:n}),n===0){alert("Oops, I ran out free credits for Geo Ipify Service. This Website doesn't work without it, Bye!");return}})},[]),p.exports.useEffect(()=>{let n=window.innerHeight,s=document.querySelector("meta[name=viewport]");if(!s){console.error("Please set viewport meta tag!");return}s==null||s.setAttribute("content",s.content+",height="+n)},[]),t("div",{className:"App",children:c("main",{children:[c("div",{className:"top-half",children:[t("section",{className:"bg-top",children:c("div",{className:"search-wrapper",children:[t("h1",{children:"IP Address Tracker"}),t(P,{isLoading:e.loading,error:e.error,dispatch:r})]})}),t(E,{data:e.data})]}),t("div",{className:"bottom-half",children:t("div",{id:"map"})})]})})}I.render(t(N.StrictMode,{children:t(D,{})}),document.getElementById("root"));
